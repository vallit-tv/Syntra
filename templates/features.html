{% extends "base.html" %}

{% block title %}Features – Vallit{% endblock %}

{% block body_class %}page-features{% endblock %}

{% block content %}
<!-- ============================================================================
     HERO SECTION
     ============================================================================ -->
<section class="page-hero">
    <div class="hero-bg">
        <div class="hero-gradient hero-gradient-1"></div>
    </div>

    <div class="container">
        <div class="page-hero-content">
            <span class="badge badge-light">Features</span>
            <h1>Kian. Dein AI-System.</h1>
            <p class="hero-subtitle">
                Modulare AI-Automation, die dein Business versteht. Von Chatbot bis komplexe Workflow-Automation.
            </p>
        </div>
    </div>
</section>

<!-- ============================================================================
     FEATURE CATEGORIES
     ============================================================================ -->
<section class="section">
    <div class="container">

        <!-- Kian Core -->
        <div class="feature-module reveal">
            <div class="feature-module-header">
                <span class="module-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="12 2 2 7 12 12 22 7 12 2" />
                        <polyline points="2 17 12 22 22 17" />
                        <polyline points="2 12 12 17 22 12" />
                    </svg>
                </span>
                <div>
                    <h2>Kian Core</h2>
                    <p>Das Fundament: Knowledge, Kontext, Reasoning</p>
                </div>
            </div>

            <div class="grid grid-3 mt-8">
                <div class="card feature-card">
                    <h4>Knowledge Base</h4>
                    <p>Kian lernt dein Unternehmen – Produkte, Prozesse, FAQs, Policies. Alles zentral, immer aktuell.
                    </p>
                </div>

                <div class="card feature-card">
                    <h4>Context Engine</h4>
                    <p>Bisherige Gespräche, Kundenhistorie, aktuelle Anfragen – Kian versteht den Zusammenhang.</p>
                </div>

                <div class="card feature-card">
                    <h4>Policy Layer</h4>
                    <p>Definiere Regeln: Wann eskalieren, was autonom entscheiden, welche Grenzen gelten.</p>
                </div>
            </div>
        </div>

        <!-- Automation -->
        <div class="feature-module reveal">
            <div class="feature-module-header">
                <span class="module-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                    </svg>
                </span>
                <div>
                    <h2>Automation</h2>
                    <p>Workflows, die arbeiten, während du schläfst</p>
                </div>
            </div>

            <div class="grid grid-3 mt-8">
                <div class="card feature-card">
                    <h4>Trigger & Actions</h4>
                    <p>E-Mail empfangen → Antwort senden. Formular ausgefüllt → CRM updaten. Beliebige Ketten.</p>
                </div>

                <div class="card feature-card">
                    <h4>Conditional Logic</h4>
                    <p>If-Then-Else für komplexe Entscheidungen. Kian trifft die richtige Wahl basierend auf Daten.</p>
                </div>

                <div class="card feature-card">
                    <h4>Scheduled Tasks</h4>
                    <p>Tägliche Reports, wöchentliche Zusammenfassungen, monatliche Analysen – automatisch.</p>
                </div>
            </div>
        </div>

        <!-- Integrationen -->
        <div class="feature-module reveal">
            <div class="feature-module-header">
                <span class="module-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="6" width="4" height="12" rx="1" />
                        <rect x="10" y="6" width="4" height="12" rx="1" />
                        <rect x="18" y="6" width="4" height="12" rx="1" />
                        <path d="M6 12h4M14 12h4" />
                    </svg>
                </span>
                <div>
                    <h2>Integrationen</h2>
                    <p>50+ Tools out-of-the-box. Custom APIs auf Anfrage.</p>
                </div>
            </div>

            <div class="integrations-grid mt-8">
                <div class="integration-item">
                    <span>Slack</span>
                </div>
                <div class="integration-item">
                    <span>Notion</span>
                </div>
                <div class="integration-item">
                    <span>Google Workspace</span>
                </div>
                <div class="integration-item">
                    <span>Microsoft 365</span>
                </div>
                <div class="integration-item">
                    <span>Salesforce</span>
                </div>
                <div class="integration-item">
                    <span>HubSpot</span>
                </div>
                <div class="integration-item">
                    <span>Zendesk</span>
                </div>
                <div class="integration-item">
                    <span>Jira</span>
                </div>
                <div class="integration-item">
                    <span>Airtable</span>
                </div>
                <div class="integration-item">
                    <span>Zapier</span>
                </div>
                <div class="integration-item">
                    <span>Webhooks</span>
                </div>
                <div class="integration-item">
                    <span>REST APIs</span>
                </div>
            </div>
        </div>

        <!-- Analytics -->
        <div class="feature-module reveal">
            <div class="feature-module-header">
                <span class="module-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 20V10M12 20V4M6 20v-6" />
                    </svg>
                </span>
                <div>
                    <h2>Analytics</h2>
                    <p>Verstehe, was Kian tut – und wie gut</p>
                </div>
            </div>

            <div class="grid grid-3 mt-8">
                <div class="card feature-card">
                    <h4>Dashboard</h4>
                    <p>Alle Metriken auf einen Blick: Anfragen, Antwortzeiten, Erfolgsraten, Eskalationen.</p>
                </div>

                <div class="card feature-card">
                    <h4>Conversation Logs</h4>
                    <p>Jede Interaktion nachvollziehbar. Suche, Filter, Export für Compliance und Training.</p>
                </div>

                <div class="card feature-card">
                    <h4>Performance Reports</h4>
                    <p>Wöchentliche Zusammenfassung: Was lief gut, wo gibt es Optimierungspotenzial.</p>
                </div>
            </div>
        </div>

        <!-- Human-in-the-loop -->
        <div class="feature-module reveal">
            <div class="feature-module-header">
                <span class="module-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                        <circle cx="9" cy="7" r="4" />
                        <path d="M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75" />
                    </svg>
                </span>
                <div>
                    <h2>Human-in-the-Loop</h2>
                    <p>AI + Mensch = beste Ergebnisse</p>
                </div>
            </div>

            <div class="grid grid-3 mt-8">
                <div class="card feature-card">
                    <h4>Smart Escalation</h4>
                    <p>Kian erkennt Grenzen und eskaliert automatisch an die richtige Person.</p>
                </div>

                <div class="card feature-card">
                    <h4>Approval Workflows</h4>
                    <p>Kritische Aktionen benötigen menschliche Freigabe. Du behältst die Kontrolle.</p>
                </div>

                <div class="card feature-card">
                    <h4>Training Feedback</h4>
                    <p>Korrigiere Kian bei Fehlern. Das System lernt und verbessert sich kontinuierlich.</p>
                </div>
            </div>
        </div>

    </div>
</section>

<!-- ============================================================================
     HOW KIAN WORKS - Diagram
     ============================================================================ -->
<section class="section-sm kian-diagram-section">
    <div class="container container-narrow">
        <div class="section-header">
            <span class="badge">Architektur</span>
            <h2>So arbeitet Kian</h2>
        </div>

        <div class="kian-diagram reveal">
            <div class="diagram-step">
                <div class="diagram-box">
                    <h4>Input</h4>
                    <p>Chat, E-Mail, Webhook, API</p>
                </div>
            </div>
            <div class="diagram-arrow">→</div>
            <div class="diagram-step">
                <div class="diagram-box highlight">
                    <h4>Kian Engine</h4>
                    <p>Knowledge · Context · Policy</p>
                </div>
            </div>
            <div class="diagram-arrow">→</div>
            <div class="diagram-step">
                <div class="diagram-box">
                    <h4>Action</h4>
                    <p>Reply, Create, Update, Notify</p>
                </div>
            </div>
            <div class="diagram-arrow">→</div>
            <div class="diagram-step">
                <div class="diagram-box">
                    <h4>Logging</h4>
                    <p>Analytics · Audit · Feedback</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ============================================================================
     CTA
     ============================================================================ -->
<section class="section cta-section">
    <div class="container container-narrow text-center">
        <div class="reveal">
            <h2>Überzeugt?</h2>
            <p class="text-lg mb-8">Lass uns über deine Use Cases sprechen.</p>

            <div class="hero-ctas justify-center">
                <a href="{{ url_for('pricing') }}#contact" class="btn btn-primary btn-lg">
                    Kontakt aufnehmen
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7" />
                    </svg>
                </a>
                <a href="{{ url_for('solutions') }}" class="btn btn-secondary btn-lg">
                    Use Cases ansehen
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
    /* ==========================================================================
   FEATURES PAGE STYLES
   ========================================================================== */

    .page-hero {
        padding: 160px 0 80px;
        position: relative;
    }

    .page-hero-content {
        max-width: 700px;
    }

    .page-hero-content h1 {
        margin: var(--space-4) 0;
    }

    .hero-subtitle {
        font-size: var(--font-size-xl);
        color: var(--color-text-secondary);
    }

    /* Feature Modules */
    .feature-module {
        padding: var(--space-16) 0;
        border-bottom: 1px solid var(--color-border-subtle);
    }

    .feature-module:last-child {
        border-bottom: none;
    }

    .feature-module-header {
        display: flex;
        align-items: flex-start;
        gap: var(--space-4);
    }

    .module-icon {
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--color-bg-hover);
        border-radius: var(--radius-md);
        flex-shrink: 0;
    }

    .feature-module-header h2 {
        margin-bottom: var(--space-1);
    }

    .feature-module-header p {
        font-size: var(--font-size-lg);
    }

    /* Integrations Grid */
    .integrations-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: var(--space-3);
    }

    .integration-item {
        padding: var(--space-4);
        background: var(--color-bg-card);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-md);
        text-align: center;
        font-size: var(--font-size-sm);
        font-weight: var(--font-weight-medium);
        transition: all var(--transition-fast);
    }

    .integration-item:hover {
        border-color: var(--color-gray-600);
        background: var(--color-bg-hover);
    }

    /* Kian Diagram */
    .kian-diagram {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-4);
        flex-wrap: wrap;
        margin-top: var(--space-8);
    }

    .diagram-step {
        flex: 1;
        min-width: 150px;
        max-width: 200px;
    }

    .diagram-box {
        padding: var(--space-6);
        background: var(--color-bg-card);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-lg);
        text-align: center;
    }

    .diagram-box.highlight {
        background: var(--color-gray-900);
        border-color: var(--color-gray-700);
    }

    .diagram-box h4 {
        margin-bottom: var(--space-2);
        font-size: var(--font-size-base);
    }

    .diagram-box p {
        font-size: var(--font-size-xs);
        line-height: var(--line-height-snug);
    }

    .diagram-arrow {
        font-size: var(--font-size-2xl);
        color: var(--color-text-muted);
    }

    @media (max-width: 768px) {
        .kian-diagram {
            flex-direction: column;
        }

        .diagram-arrow {
            transform: rotate(90deg);
        }

        .diagram-step {
            max-width: 100%;
        }
    }

    /* CTA */
    .cta-section {
        background: linear-gradient(to bottom, transparent, var(--color-gray-950));
    }

    .justify-center {
        justify-content: center;
    }
</style>
{% endblock %}