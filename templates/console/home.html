{% extends "layout_console.html" %}

{% block page_title %}System Overview{% endblock %}

{% block content %}
<div style="max-width: 800px;">

    <div class="subtitle">
        LOGGED IN AS {{ user.name|upper }} · <span style="color:var(--console-success)">● SYSTEM ONLINE</span>
    </div>

    <!-- SYSTEM STATUS -->
    <div class="status-grid">
        <div class="status-item">
            <span class="status-label">API Keys</span>
            <div class="status-value">
                <div class="status-dot {% if api_keys_count > 0 %}active{% else %}error{% endif %}"></div>
                {{ api_keys_count }} Active
            </div>
        </div>

        <div class="status-item">
            <span class="status-label">Integrations</span>
            <div class="status-value">
                <div class="status-dot {% if integrations_count > 0 %}active{% else %}active{% endif %}"></div>
                {{ integrations_count }} Connected
            </div>
        </div>

        <div class="status-item">
            <span class="status-label">Database</span>
            <div class="status-value">
                <div class="status-dot active"></div>
                Connected
            </div>
        </div>
    </div>

    <!-- ACTIVE RESOURCES -->
    <div style="margin-bottom: var(--space-xl);">
        <h2 style="font-size: 14px; font-weight: 500; margin-bottom: var(--space-md);">Quick Access</h2>

        <div class="console-list">
            <a href="{{ url_for('dashboard_api_keys') }}" class="list-item">
                <div class="list-col">
                    <i data-lucide="key" width="16" height="16"></i>
                    <span>Manage API Keys</span>
                </div>
                <div class="list-col">
                    <span style="color: var(--console-text-tertiary);">OpenAI, Anthropic</span>
                    <i data-lucide="arrow-right" width="14" height="14"></i>
                </div>
            </a>

            <a href="{{ url_for('dashboard_integrations') }}" class="list-item">
                <div class="list-col">
                    <i data-lucide="plug" width="16" height="16"></i>
                    <span>Integrations</span>
                </div>
                <div class="list-col">
                    <span style="color: var(--console-text-tertiary);">Notion, Slack</span>
                    <i data-lucide="arrow-right" width="14" height="14"></i>
                </div>
            </a>

            <a href="{{ url_for('admin_widgets') }}" class="list-item">
                <div class="list-col">
                    <i data-lucide="bot" width="16" height="16"></i>
                    <span>Chat Agents</span>
                </div>
                <div class="list-col">
                    <span style="color: var(--console-text-tertiary);">Configure Widgets</span>
                    <i data-lucide="arrow-right" width="14" height="14"></i>
                </div>
            </a>
        </div>
    </div>

    <!-- RECENT ACTIVITY (Placeholder) -->
    <div>
        <h2 style="font-size: 14px; font-weight: 500; margin-bottom: var(--space-md);">System Log</h2>
        <div
            style="font-family: 'JetBrains Mono', monospace; font-size: 12px; color: var(--console-text-secondary); line-height: 1.6;">
            <div>[INFO] System initialized at {{ now_utc }}</div>
            <div>[INFO] User session active for {{ user.email }}</div>
            <div>[INFO] Dashboard layout updated to Console v2</div>
        </div>
    </div>

</div>
{% endblock %}